"use strict";(()=>{var e={};e.id=737,e.ids=[737],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3685:e=>{e.exports=require("http")},5687:e=>{e.exports=require("https")},5477:e=>{e.exports=require("punycode")},2781:e=>{e.exports=require("stream")},7310:e=>{e.exports=require("url")},9796:e=>{e.exports=require("zlib")},7773:(e,r,s)=>{s.r(r),s.d(r,{headerHooks:()=>I,originalPathname:()=>A,patchFetch:()=>d,requestAsyncStorage:()=>p,routeModule:()=>l,serverHooks:()=>c,staticGenerationAsyncStorage:()=>L,staticGenerationBailout:()=>R});var t={};s.r(t),s.d(t,{POST:()=>E});var o=s(5419),i=s(9108),a=s(9678),n=s(8070),u=s(8234);async function E(e){try{let e=`
      -- Disable RLS on problematic tables
      ALTER TABLE organizations DISABLE ROW LEVEL SECURITY;
      ALTER TABLE org_members DISABLE ROW LEVEL SECURITY;
      ALTER TABLE clients DISABLE ROW LEVEL SECURITY;
      ALTER TABLE user_clients DISABLE ROW LEVEL SECURITY;
      ALTER TABLE blog_posts DISABLE ROW LEVEL SECURITY;
      ALTER TABLE images DISABLE ROW LEVEL SECURITY;
      ALTER TABLE social_connections DISABLE ROW LEVEL SECURITY;
      ALTER TABLE subscriptions DISABLE ROW LEVEL SECURITY;
    `,{data:r,error:s}=await u.O.rpc("exec_sql",{sql:e});if(s)return console.error("Error executing SQL:",s),n.Z.json({error:"Failed to execute SQL"},{status:500});return n.Z.json({message:"RLS policies disabled successfully",data:r})}catch(e){return console.error("API Error:",e),n.Z.json({error:"Failed to disable RLS policies"},{status:500})}}let l=new o.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/fix-rls/route",pathname:"/api/fix-rls",filename:"route",bundlePath:"app/api/fix-rls/route"},resolvedPagePath:"C:\\Users\\denni\\Desktop\\Chosen Ones Toolkit\\Chosen Ones Community\\Portal Coding\\AI-Timeline-Alchemy\\golden-image-creator\\app\\api\\fix-rls\\route.ts",nextConfigOutput:"",userland:t}),{requestAsyncStorage:p,staticGenerationAsyncStorage:L,serverHooks:c,headerHooks:I,staticGenerationBailout:R}=l,A="/api/fix-rls/route";function d(){return(0,a.patchFetch)({serverHooks:c,staticGenerationAsyncStorage:L})}},8234:(e,r,s)=>{s.d(r,{O:()=>n});var t=s(2964);let o="https://zkydbbarowexcqhsurky.supabase.co",i="your_supaba=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpreWRiYmFyb3dleGNxaHN1cmt5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg4MjQwMTksImV4cCI6MjA3NDQwMDAxOX0.k9PDWkCirDd-9_C7KamuWOULqcuMjw1KuZz5wx95EPs",a=null,n=(0,t.eI)(o,i,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}});(0,t.eI)(o,process.env.SUPABASE_SERVICE_ROLE_KEY||i,{auth:{autoRefreshToken:!1,persistSession:!1}})}};var r=require("../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[638,206,122,964],()=>s(7773));module.exports=t})();